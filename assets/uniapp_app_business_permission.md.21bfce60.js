import{_ as s,o as n,c as a,Q as o}from"./chunks/framework.c3fd347f.js";const d=JSON.parse('{"title":"第十六集 获取系统权限","description":"","frontmatter":{},"headers":[],"relativePath":"uniapp/app/business/permission.md","filePath":"uniapp/app/business/permission.md","lastUpdated":1707147609000}'),p={name:"uniapp/app/business/permission.md"},e=o(`<h1 id="第十六集-获取系统权限" tabindex="-1">第十六集 获取系统权限 <a class="header-anchor" href="#第十六集-获取系统权限" aria-label="Permalink to &quot;第十六集 获取系统权限&quot;">​</a></h1><h2 id="_1-获取系统权限" tabindex="-1">1. 获取系统权限 <a class="header-anchor" href="#_1-获取系统权限" aria-label="Permalink to &quot;1. 获取系统权限&quot;">​</a></h2><h4 id="uni-getappauthorizesetting" tabindex="-1">uni.getAppAuthorizeSetting() <a class="header-anchor" href="#uni-getappauthorizesetting" aria-label="Permalink to &quot;uni.getAppAuthorizeSetting()&quot;">​</a></h4><p>获取用户的当前设置。完整参数说明参照<a href="https://uniapp.dcloud.net.cn/api/system/getappauthorizesetting.html" target="_blank" rel="noreferrer">官方文档</a></p><ul><li><strong>authorized</strong>：表示已经获得授权，无需再次请求授权；</li><li><strong>denied</strong>：表示请求授权被拒绝，无法再次请求授权；（此情况需要引导用户打开系统设置，在设置页中打开权限）</li><li><strong>not determined</strong>：表示尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关）</li><li><strong>config error</strong>：只有在 App 端时返回</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">appAuthorizeSetting</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> uni.</span><span style="color:#B392F0;">getAppAuthorizeSetting</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.albumAuthorized) </span><span style="color:#6A737D;">// 相册</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.bluetoothAuthorized) </span><span style="color:#6A737D;">// 蓝牙</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.cameraAuthorized) </span><span style="color:#6A737D;">// 相机</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.locationAuthorized) </span><span style="color:#6A737D;">// 地理位置</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.locationReducedAccuracy) </span><span style="color:#6A737D;">// 定位准确度。&quot;reduced&quot; 表示模糊定位；&quot;full&quot; 表示精准定位；&quot;unsupported&quot; 表示不支持</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.microphoneAuthorized) </span><span style="color:#6A737D;">// 麦克风</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.notificationAlertAuthorized) </span><span style="color:#6A737D;">// 允许通知带有提醒的开关</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.notificationAuthorized) </span><span style="color:#6A737D;">// 允许通知带有标记的开关</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.notificationBadgeAuthorized) </span><span style="color:#6A737D;">// 允许通知带有声音的开关</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.notificationSoundAuthorized) </span><span style="color:#6A737D;">// 允许通知带有震动的开关</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(appAuthorizeSetting.phoneCalendarAuthorized) </span><span style="color:#6A737D;">// 日历</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">appAuthorizeSetting</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> uni.</span><span style="color:#6F42C1;">getAppAuthorizeSetting</span><span style="color:#24292E;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.albumAuthorized) </span><span style="color:#6A737D;">// 相册</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.bluetoothAuthorized) </span><span style="color:#6A737D;">// 蓝牙</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.cameraAuthorized) </span><span style="color:#6A737D;">// 相机</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.locationAuthorized) </span><span style="color:#6A737D;">// 地理位置</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.locationReducedAccuracy) </span><span style="color:#6A737D;">// 定位准确度。&quot;reduced&quot; 表示模糊定位；&quot;full&quot; 表示精准定位；&quot;unsupported&quot; 表示不支持</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.microphoneAuthorized) </span><span style="color:#6A737D;">// 麦克风</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.notificationAlertAuthorized) </span><span style="color:#6A737D;">// 允许通知带有提醒的开关</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.notificationAuthorized) </span><span style="color:#6A737D;">// 允许通知带有标记的开关</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.notificationBadgeAuthorized) </span><span style="color:#6A737D;">// 允许通知带有声音的开关</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.notificationSoundAuthorized) </span><span style="color:#6A737D;">// 允许通知带有震动的开关</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(appAuthorizeSetting.phoneCalendarAuthorized) </span><span style="color:#6A737D;">// 日历</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_2-推荐使用" tabindex="-1">2. 推荐使用 <a class="header-anchor" href="#_2-推荐使用" aria-label="Permalink to &quot;2. 推荐使用&quot;">​</a></h2><h4 id="使用插件app权限判断和提示" tabindex="-1">使用插件<a href="https://ext.dcloud.net.cn/plugin?id=594" target="_blank" rel="noreferrer">App权限判断和提示 </a> <a class="header-anchor" href="#使用插件app权限判断和提示" aria-label="Permalink to &quot;使用插件[App权限判断和提示 ](https://ext.dcloud.net.cn/plugin?id=594)&quot;">​</a></h4><p>可以判断用户是否授权，如果没有授权，可以引导用户打开系统设置页面，进行授权。不满足需求时可以自行二次封装。</p>`,9),l=[e];function t(r,c,i,u,y,E){return n(),a("div",null,l)}const A=s(p,[["render",t]]);export{d as __pageData,A as default};
