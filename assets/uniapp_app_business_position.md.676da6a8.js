import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.c3fd347f.js";const b=JSON.parse('{"title":"第十七集 位置定位","description":"","frontmatter":{},"headers":[],"relativePath":"uniapp/app/business/position.md","filePath":"uniapp/app/business/position.md","lastUpdated":1707147609000}'),p={name:"uniapp/app/business/position.md"},o=l(`<h1 id="第十七集-位置定位" tabindex="-1">第十七集 位置定位 <a class="header-anchor" href="#第十七集-位置定位" aria-label="Permalink to &quot;第十七集 位置定位&quot;">​</a></h1><h2 id="前置条件" tabindex="-1">前置条件 <a class="header-anchor" href="#前置条件" aria-label="Permalink to &quot;前置条件&quot;">​</a></h2><ul><li>需要配置好manifest.json文件的第三方定位模块（推荐使用高德定位）,填写相关key</li><li>配置好后，需要重新打包自定义基座，才能生效</li></ul><h2 id="_1-uni-getlocation获取当前位置" tabindex="-1">1. uni.getLocation获取当前位置 <a class="header-anchor" href="#_1-uni-getlocation获取当前位置" aria-label="Permalink to &quot;1. uni.getLocation获取当前位置&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 获取当前位置</span></span>
<span class="line"><span style="color:#E1E4E8;">uni.</span><span style="color:#B392F0;">getLocation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">	type: </span><span style="color:#9ECBFF;">&#39;gcj02&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 默认为 wgs84 返回 gps 坐标，gcj02 返回国测局坐标，可用于 uni.openLocation 和 map 组件坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">  altitude: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 高度 传入 true 会返回高度信息，</span></span>
<span class="line"><span style="color:#E1E4E8;">  geocode: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 默认false，是否解析地址信息</span></span>
<span class="line"><span style="color:#E1E4E8;">  highAccuracyExpireTime: </span><span style="color:#79B8FF;">30000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 高精度定位超时时间(ms)，指定时间内返回最高精度，该值3000ms以上高精度定位才有效果</span></span>
<span class="line"><span style="color:#E1E4E8;">  isHighAccuracy: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 开启高精度定位</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的经度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.longitude);</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的纬度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.latitude);</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的速度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.speed);</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的精度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.accuracy);</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的高度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.altitude);</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的水平精度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.horizontalAccuracy);</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的垂直精度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.verticalAccuracy);</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;当前位置的地址信息（仅App端支持，需配置geocode为true）：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.address);</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// address包含参数</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;country&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;中国&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 国家</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;province&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;广东省&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 省份</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;city&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;广州市&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 城市</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;district&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;海珠区&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 区县</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;street&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;新港中路&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 街道</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;streetNum&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;397号&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 街道门牌号</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;cityCode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;020&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 城市编码</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;postalCode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;440105&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 邮编</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;poiName&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;广州市人民政府&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// POI信息</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 获取当前位置</span></span>
<span class="line"><span style="color:#24292E;">uni.</span><span style="color:#6F42C1;">getLocation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">	type: </span><span style="color:#032F62;">&#39;gcj02&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 默认为 wgs84 返回 gps 坐标，gcj02 返回国测局坐标，可用于 uni.openLocation 和 map 组件坐标</span></span>
<span class="line"><span style="color:#24292E;">  altitude: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 高度 传入 true 会返回高度信息，</span></span>
<span class="line"><span style="color:#24292E;">  geocode: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 默认false，是否解析地址信息</span></span>
<span class="line"><span style="color:#24292E;">  highAccuracyExpireTime: </span><span style="color:#005CC5;">30000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 高精度定位超时时间(ms)，指定时间内返回最高精度，该值3000ms以上高精度定位才有效果</span></span>
<span class="line"><span style="color:#24292E;">  isHighAccuracy: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 开启高精度定位</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的经度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.longitude);</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的纬度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.latitude);</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的速度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.speed);</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的精度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.accuracy);</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的高度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.altitude);</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的水平精度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.horizontalAccuracy);</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的垂直精度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.verticalAccuracy);</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;当前位置的地址信息（仅App端支持，需配置geocode为true）：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.address);</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// address包含参数</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;country&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;中国&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 国家</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;province&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;广东省&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 省份</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;city&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;广州市&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 城市</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;district&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;海珠区&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 区县</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;street&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;新港中路&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 街道</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;streetNum&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;397号&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 街道门牌号</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;cityCode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;020&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 城市编码</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;postalCode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;440105&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 邮编</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;poiName&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;广州市人民政府&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// POI信息</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_2-uni-openlocation打开位置" tabindex="-1">2. uni.openLocation打开位置 <a class="header-anchor" href="#_2-uni-openlocation打开位置" aria-label="Permalink to &quot;2. uni.openLocation打开位置&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 打开位置</span></span>
<span class="line"><span style="color:#E1E4E8;">uni.</span><span style="color:#B392F0;">getLocation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">	type: </span><span style="color:#9ECBFF;">&#39;gcj02&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//返回可以用于uni.openLocation的经纬度</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">latitude</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> res.latitude;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">longitude</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> res.longitude;</span></span>
<span class="line"><span style="color:#E1E4E8;">		uni.</span><span style="color:#B392F0;">openLocation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">			latitude: latitude, </span><span style="color:#6A737D;">// 纬度，范围为-90~90，负数表示南纬，使用 gcj02 国测局坐标系</span></span>
<span class="line"><span style="color:#E1E4E8;">			longitude: longitude, </span><span style="color:#6A737D;">// 经度，范围为-180~180，负数表示西经，使用 gcj02 国测局坐标系</span></span>
<span class="line"><span style="color:#E1E4E8;">      scale: </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 缩放比例，范围5~18 默认为18</span></span>
<span class="line"><span style="color:#E1E4E8;">      name: </span><span style="color:#9ECBFF;">&#39;我的位置&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// 位置名</span></span>
<span class="line"><span style="color:#E1E4E8;">      address: </span><span style="color:#9ECBFF;">&#39;我的地址&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// 地址的详细说明</span></span>
<span class="line"><span style="color:#E1E4E8;">			success: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">				console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;success&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">			}</span></span>
<span class="line"><span style="color:#E1E4E8;">		});</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 打开位置</span></span>
<span class="line"><span style="color:#24292E;">uni.</span><span style="color:#6F42C1;">getLocation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">	type: </span><span style="color:#032F62;">&#39;gcj02&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//返回可以用于uni.openLocation的经纬度</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">latitude</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.latitude;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">longitude</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.longitude;</span></span>
<span class="line"><span style="color:#24292E;">		uni.</span><span style="color:#6F42C1;">openLocation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">			latitude: latitude, </span><span style="color:#6A737D;">// 纬度，范围为-90~90，负数表示南纬，使用 gcj02 国测局坐标系</span></span>
<span class="line"><span style="color:#24292E;">			longitude: longitude, </span><span style="color:#6A737D;">// 经度，范围为-180~180，负数表示西经，使用 gcj02 国测局坐标系</span></span>
<span class="line"><span style="color:#24292E;">      scale: </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 缩放比例，范围5~18 默认为18</span></span>
<span class="line"><span style="color:#24292E;">      name: </span><span style="color:#032F62;">&#39;我的位置&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 位置名</span></span>
<span class="line"><span style="color:#24292E;">      address: </span><span style="color:#032F62;">&#39;我的地址&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 地址的详细说明</span></span>
<span class="line"><span style="color:#24292E;">			success: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">				console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;success&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">			}</span></span>
<span class="line"><span style="color:#24292E;">		});</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_3-uni-chooselocation选择位置" tabindex="-1">3. uni.chooseLocation选择位置 <a class="header-anchor" href="#_3-uni-chooselocation选择位置" aria-label="Permalink to &quot;3. uni.chooseLocation选择位置&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">uni.</span><span style="color:#B392F0;">chooseLocation</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  latitude: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 目标地纬度</span></span>
<span class="line"><span style="color:#E1E4E8;">  longitude: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 目标地经度</span></span>
<span class="line"><span style="color:#E1E4E8;">  keyword: </span><span style="color:#9ECBFF;">&#39;美食&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 搜索关键字，仅App平台支持 如果SDK配置百度地图，需要设置 keyword，才能显示相关地点</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;位置名称：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.name);</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;详细地址：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.address);</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;纬度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.latitude);</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;经度：&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> res.longitude);</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">uni.</span><span style="color:#6F42C1;">chooseLocation</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  latitude: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 目标地纬度</span></span>
<span class="line"><span style="color:#24292E;">  longitude: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 目标地经度</span></span>
<span class="line"><span style="color:#24292E;">  keyword: </span><span style="color:#032F62;">&#39;美食&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 搜索关键字，仅App平台支持 如果SDK配置百度地图，需要设置 keyword，才能显示相关地点</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;位置名称：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.name);</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;详细地址：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.address);</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;纬度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.latitude);</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;经度：&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> res.longitude);</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="参考文档" tabindex="-1">参考文档 <a class="header-anchor" href="#参考文档" aria-label="Permalink to &quot;参考文档&quot;">​</a></h2><ul><li><a href="https://uniapp.dcloud.net.cn/api/location/location.html" target="_blank" rel="noreferrer">uni.getLocation</a></li></ul>`,11),e=[o];function t(c,r,E,y,i,u){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{b as __pageData,d as default};
