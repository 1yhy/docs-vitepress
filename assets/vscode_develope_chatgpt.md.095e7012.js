import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.c3fd347f.js";const b=JSON.parse('{"title":"vscodeæ’ä»¶å¼€å‘-chatgptæ’ä»¶","description":"","frontmatter":{},"headers":[],"relativePath":"vscode/develope/chatgpt.md","filePath":"vscode/develope/chatgpt.md","lastUpdated":1707147609000}'),p={name:"vscode/develope/chatgpt.md"},o=l(`<h1 id="vscodeæ’ä»¶å¼€å‘-chatgptæ’ä»¶" tabindex="-1">vscodeæ’ä»¶å¼€å‘-chatgptæ’ä»¶ <a class="header-anchor" href="#vscodeæ’ä»¶å¼€å‘-chatgptæ’ä»¶" aria-label="Permalink to &quot;vscodeæ’ä»¶å¼€å‘-chatgptæ’ä»¶&quot;">â€‹</a></h1><h1 id="vscode-chatgptæ’ä»¶" tabindex="-1">VSCode-ChatGPTæ’ä»¶ <a class="header-anchor" href="#vscode-chatgptæ’ä»¶" aria-label="Permalink to &quot;VSCode-ChatGPTæ’ä»¶&quot;">â€‹</a></h1><p>â€‹<img src="https://yhyblog-2023-2-8.oss-cn-hangzhou.aliyuncs.com/md/2023/05/icon.png" alt="icon" style="width:60%;margin:0px 20%;zoom:50%;"></p><p>æœ€è¿‘ï¼Œç”±äºç°åœ¨å¤§å¤šChatGPTæ’ä»¶éƒ½éœ€è¦ä»˜è´¹ï¼Œè‡ªå·±æƒ³ç€åˆšå¥½æœ‰ä¸ªè´¦å·ï¼Œå¼€å‘ä¸€ä¸ªç®€å•çš„æ–¹ä¾¿è‡ªå·±ä½¿ç”¨(å¸Œæœ›èƒ½ç”¨ä¸ŠğŸ™„)ã€‚ä¸è¿‡ä½¿ç”¨è¿˜æ˜¯éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œè€Œä¸”ç›®å‰å­˜åœ¨ä¸€äº›å°BugğŸ˜‚ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä¼šä»‹ç»è¿™ä¸ªæ’ä»¶çš„å¼€å‘æµç¨‹å’Œä»£ç è®²è§£ğŸ‘‡ã€‚</p><h2 id="å¼€å‘æµç¨‹" tabindex="-1">å¼€å‘æµç¨‹ <a class="header-anchor" href="#å¼€å‘æµç¨‹" aria-label="Permalink to &quot;å¼€å‘æµç¨‹&quot;">â€‹</a></h2><h3 id="ç¡®å®šéœ€æ±‚" tabindex="-1">ç¡®å®šéœ€æ±‚ <a class="header-anchor" href="#ç¡®å®šéœ€æ±‚" aria-label="Permalink to &quot;ç¡®å®šéœ€æ±‚&quot;">â€‹</a></h3><p>åœ¨å¼€å‘æ’ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç¡®å®šéœ€æ±‚ã€‚åŠŸèƒ½åŸºæœ¬å‚ç…§<a href="https://marketplace.visualstudio.com/items?itemName=WhenSunset.chatgpt-china" target="_blank" rel="noreferrer">ChatGPTä¸­æ–‡ç‰ˆ</a>ã€‚åœ¨è¿™ä¸ªæ’ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>ç”¨æˆ·å¯ä»¥åœ¨VSCodeä¸­è¾“å…¥æ–‡æœ¬ï¼Œç„¶åä½¿ç”¨ChatGPTè¿›è¡Œè‡ªç„¶è¯­è¨€å¤„ç†ã€‚å¯ä»¥å¯¹ç­”æ¡ˆè¿›è¡Œå¤åˆ¶ã€‚</li><li>ç”¨æˆ·å¯ä»¥é€‰æ‹©<a href="https://github.com/PlexPt/awesome-chatgpt-prompts-zh/blob/main/prompts-zh.json" target="_blank" rel="noreferrer">githubå¼€æºé¡¹ç›®</a>æä¾›çš„è§’è‰²Promptæ–¹ä¾¿æé—®ã€‚</li><li>å¯ä»¥é€‰æ‹©ä»£ç è¿›è¡Œå¿«æ·æé—®(å¿«æ·é”®ç›®å‰ä»æœ‰é—®é¢˜)ï¼Œä¸»è¦åŒ…æ‹¬è§£é‡Šä»£ç ã€ä¼˜åŒ–ä»£ç ã€æ‰¾ä»£ç å­˜åœ¨çš„æœªçŸ¥é—®é¢˜ã€‚</li></ul><h3 id="é€‰æ‹©å¼€å‘è¯­è¨€å’Œæ¡†æ¶" tabindex="-1">é€‰æ‹©å¼€å‘è¯­è¨€å’Œæ¡†æ¶ <a class="header-anchor" href="#é€‰æ‹©å¼€å‘è¯­è¨€å’Œæ¡†æ¶" aria-label="Permalink to &quot;é€‰æ‹©å¼€å‘è¯­è¨€å’Œæ¡†æ¶&quot;">â€‹</a></h3><p>åœ¨ç¡®å®šéœ€æ±‚ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©å¼€å‘è¯­è¨€å’Œæ¡†æ¶ã€‚ç”±äºVscodeæ’ä»¶æ˜¯åŸºäºNode.jså¼€å‘çš„ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨Node.jsä½œä¸ºå¼€å‘è¯­è¨€ï¼Œå¹¶ä½¿ç”¨Vscodeæä¾›çš„æ’ä»¶å¼€å‘æ¡†æ¶è¿›è¡Œå¼€å‘ï¼Œä½¿ç”¨tsè¯­è¨€ï¼Œé€šè¿‡ä½¿ç”¨axiosè¿›è¡Œè¯·æ±‚ã€‚</p><h3 id="ç¼–å†™ä»£ç " tabindex="-1">ç¼–å†™ä»£ç  <a class="header-anchor" href="#ç¼–å†™ä»£ç " aria-label="Permalink to &quot;ç¼–å†™ä»£ç &quot;">â€‹</a></h3><p>åœ¨é€‰æ‹©å¥½å¼€å‘è¯­è¨€å’Œæ¡†æ¶ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™ä»£ç ã€‚åœ¨è¿™ä¸ªæ’ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li><p>åœ¨Vscodeä¸­æ·»åŠ ä¸€ä¸ªå‘½ä»¤è¾“å…¥æ¡†ï¼Œè®©ç”¨æˆ·è¾“å…¥è¯·æ±‚æ¥å£Tokenã€‚</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ·»åŠ å‘½ä»¤</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;contributes&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;commands&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.InputToken&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;InputToken&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">     ]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Vscodeè®¾ç½®åŒºé…ç½®</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">&quot;configuration&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;properties&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;UsefulCode.token&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;string&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;default&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;$comment&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;è¾“å…¥OpenAIçš„token&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;description&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;Enter your OpenAPI token.&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æ³¨å†Œè¾“å…¥tokenå‘½ä»¤</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.subscriptions.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">		vscode.commands.</span><span style="color:#B392F0;">registerCommand</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;UsefulCode.InputToken&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userToken</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> vscode.window.</span><span style="color:#B392F0;">showInputBox</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">				prompt: </span><span style="color:#9ECBFF;">&#39;Enter your OpenAI API token&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">				placeHolder: </span><span style="color:#9ECBFF;">&#39;Token&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (userToken) {</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// ä¿å­˜ç”¨æˆ·çš„Token</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#B392F0;">saveToken</span><span style="color:#E1E4E8;">(userToken);</span></span>
<span class="line"><span style="color:#E1E4E8;">				vscode.window.</span><span style="color:#B392F0;">showInformationMessage</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;è®¾ç½®TokenæˆåŠŸ&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">			}</span></span>
<span class="line"><span style="color:#E1E4E8;">		})</span></span>
<span class="line"><span style="color:#E1E4E8;">	);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ä¿å­˜tokenåˆ°å…¨å±€è®¾ç½®ï¼Œæ–¹ä¾¿è°ƒç”¨</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">saveToken</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">token</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> vscode.workspace.</span><span style="color:#B392F0;">getConfiguration</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">CONFIG_SECTION</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	config.</span><span style="color:#B392F0;">update</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;token&#39;</span><span style="color:#E1E4E8;">, token, vscode.ConfigurationTarget.Global);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ·»åŠ å‘½ä»¤</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;contributes&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;commands&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.InputToken&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;InputToken&quot;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">     ]</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Vscodeè®¾ç½®åŒºé…ç½®</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">&quot;configuration&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;properties&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;UsefulCode.token&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;default&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;$comment&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;è¾“å…¥OpenAIçš„token&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;Enter your OpenAPI token.&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æ³¨å†Œè¾“å…¥tokenå‘½ä»¤</span></span>
<span class="line"><span style="color:#24292E;">	context.subscriptions.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">		vscode.commands.</span><span style="color:#6F42C1;">registerCommand</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;UsefulCode.InputToken&#39;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userToken</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> vscode.window.</span><span style="color:#6F42C1;">showInputBox</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">				prompt: </span><span style="color:#032F62;">&#39;Enter your OpenAI API token&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">				placeHolder: </span><span style="color:#032F62;">&#39;Token&#39;</span></span>
<span class="line"><span style="color:#24292E;">			});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (userToken) {</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// ä¿å­˜ç”¨æˆ·çš„Token</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6F42C1;">saveToken</span><span style="color:#24292E;">(userToken);</span></span>
<span class="line"><span style="color:#24292E;">				vscode.window.</span><span style="color:#6F42C1;">showInformationMessage</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;è®¾ç½®TokenæˆåŠŸ&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">			}</span></span>
<span class="line"><span style="color:#24292E;">		})</span></span>
<span class="line"><span style="color:#24292E;">	);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ä¿å­˜tokenåˆ°å…¨å±€è®¾ç½®ï¼Œæ–¹ä¾¿è°ƒç”¨</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveToken</span><span style="color:#24292E;">(</span><span style="color:#E36209;">token</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">config</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> vscode.workspace.</span><span style="color:#6F42C1;">getConfiguration</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">CONFIG_SECTION</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	config.</span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;token&#39;</span><span style="color:#24292E;">, token, vscode.ConfigurationTarget.Global);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div></li><li><p>åœ¨Vscodeä¸­æ·»åŠ ä¸€ä¸ªä¾§è¾¹æ è¿˜æœ‰webViewè§†å›¾ï¼Œä½œä¸ºä¸»è¦é—®ç­”åŒºã€‚</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;viewsContainers&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ä¾§è¾¹æ å›¾æ ‡é…ç½®</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;activitybar&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;useful_code_sidebar&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;icon&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;./assets/icon.svg&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ä¾§è¾¹æ è§†å›¾</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;views&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;useful_code_sidebar&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;useful_code_sidebar-view&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;è¯¢é—®çª—å£&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;webview&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;initialSize&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">provider</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ChatViewProvider</span><span style="color:#E1E4E8;">(context.extensionUri);</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// æ³¨å†Œ Webview è§†å›¾æä¾›ç¨‹åºï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯å±•ç¤ºè§†å›¾åŒºåŸŸIdï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è§†å›¾ä¸»ç±»å®ç°</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.subscriptions.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">vscode.window.</span><span style="color:#B392F0;">registerWebviewViewProvider</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;useful_code_sidebar-view&#39;</span><span style="color:#E1E4E8;">, provider)</span></span>
<span class="line"><span style="color:#E1E4E8;">	);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// åˆ›å»ºwebViewä¸»ç±»</span></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ChatViewProvider</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">implements</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vscode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">WebviewViewProvider</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">_view</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vscode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">WebviewView</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">readonly</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">_extensionUri</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vscode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Uri</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">resolveWebviewView</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">webviewView</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vscode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">WebviewView</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._view </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> webviewView;</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(webviewView.webview </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._view?.webview);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// è®¾ç½® Webview çš„ HTML å†…å®¹</span></span>
<span class="line"><span style="color:#E1E4E8;">		webviewView.webview.html </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getWebviewContent</span><span style="color:#E1E4E8;">(webviewView.webview);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">		webviewView.webview.options </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			enableScripts: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">			localResourceRoots: [</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._extensionUri</span></span>
<span class="line"><span style="color:#E1E4E8;">      ], </span><span style="color:#6A737D;">// å…è®¸è®¿é—®å…¶ä»–æœ¬åœ°èµ„æºï¼Œå¹¶å®šä¹‰åŠ è½½æœ¬åœ°å†…å®¹çš„æ ¹ URI</span></span>
<span class="line"><span style="color:#E1E4E8;">		};</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// å¤„ç† Webview çš„æ¶ˆæ¯å’Œäº‹ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">		webviewView.webview.</span><span style="color:#B392F0;">onDidReceiveMessage</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">message</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#6A737D;">// å¤„ç†æ¥è‡ª Webview çš„æ¶ˆæ¯</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (message.type </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;message&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> message.type </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;askQuestion&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callOpenAI</span><span style="color:#E1E4E8;">(message.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(res) {</span></span>
<span class="line"><span style="color:#E1E4E8;">					</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">responseMessage</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`\${</span><span style="color:#E1E4E8;">res</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">content</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">					</span><span style="color:#6A737D;">// å‘é€å“åº”æ¶ˆæ¯ç»™ Webview</span></span>
<span class="line"><span style="color:#E1E4E8;">					webviewView?.webview.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({ type: </span><span style="color:#9ECBFF;">&#39;response&#39;</span><span style="color:#E1E4E8;">, value: responseMessage });</span></span>
<span class="line"><span style="color:#E1E4E8;">				}</span></span>
<span class="line"><span style="color:#E1E4E8;">			}</span></span>
<span class="line"><span style="color:#E1E4E8;">		});</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// å¤„ç† Webview çš„æ¶ˆæ¯å’Œäº‹ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">message</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._view) {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._view.webview?.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">({ type: </span><span style="color:#9ECBFF;">&#39;askQuestion&#39;</span><span style="color:#E1E4E8;">, value: message });</span></span>
<span class="line"><span style="color:#E1E4E8;">		}</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// webViewå†…å®¹</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getWebviewContent</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">webview</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">vscode</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">Webview</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">scriptUri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> webview.</span><span style="color:#B392F0;">asWebviewUri</span><span style="color:#E1E4E8;">(vscode.Uri.</span><span style="color:#B392F0;">joinPath</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._extensionUri, </span><span style="color:#9ECBFF;">&#39;media&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;main.js&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">promptScriptUri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> webview.</span><span style="color:#B392F0;">asWebviewUri</span><span style="color:#E1E4E8;">(vscode.Uri.</span><span style="color:#B392F0;">joinPath</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._extensionUri, </span><span style="color:#9ECBFF;">&#39;media&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;prompt.json&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// Do the same for the stylesheet.</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">styleResetUri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> webview.</span><span style="color:#B392F0;">asWebviewUri</span><span style="color:#E1E4E8;">(vscode.Uri.</span><span style="color:#B392F0;">joinPath</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._extensionUri, </span><span style="color:#9ECBFF;">&#39;media&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;reset.css&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">styleVSCodeUri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> webview.</span><span style="color:#B392F0;">asWebviewUri</span><span style="color:#E1E4E8;">(vscode.Uri.</span><span style="color:#B392F0;">joinPath</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._extensionUri, </span><span style="color:#9ECBFF;">&#39;media&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;vscode.css&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">styleMainUri</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> webview.</span><span style="color:#B392F0;">asWebviewUri</span><span style="color:#E1E4E8;">(vscode.Uri.</span><span style="color:#B392F0;">joinPath</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">._extensionUri, </span><span style="color:#9ECBFF;">&#39;media&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;main.css&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nonce</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getNonce</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">\`</span></span>
<span class="line"><span style="color:#9ECBFF;">			&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">			&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">			&lt;head&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">	&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;none&#39;; style-src \${</span><span style="color:#E1E4E8;">webview</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">cspSource</span><span style="color:#9ECBFF;">}; script-src &#39;nonce-\${</span><span style="color:#E1E4E8;">nonce</span><span style="color:#9ECBFF;">}&#39;;&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">	&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">	&lt;link href=&quot;\${</span><span style="color:#E1E4E8;">styleResetUri</span><span style="color:#9ECBFF;">}&quot; rel=&quot;stylesheet&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">	&lt;link href=&quot;\${</span><span style="color:#E1E4E8;">styleVSCodeUri</span><span style="color:#9ECBFF;">}&quot; rel=&quot;stylesheet&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">	&lt;link href=&quot;\${</span><span style="color:#E1E4E8;">styleMainUri</span><span style="color:#9ECBFF;">}&quot; rel=&quot;stylesheet&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;title&gt;UsefulCode&lt;/title&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;/head&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">					&lt;body&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">							&lt;div class=&quot;chat-container&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">									&lt;div class=&quot;chat-messages&quot; id=&quot;chatMessages&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">									&lt;div class=&quot;chat-input&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">										&lt;textarea placeholder=&quot;è¯·è¾“å…¥ä½ çš„é—®é¢˜ï¼Œï¼ˆè¾“å…¥&#39;/&#39;å¯ä»¥è§¦å‘æç¤ºè¯ï¼‰&quot; class=&quot;messageInput&quot; id=&quot;messageInput&quot;&gt;&lt;/textarea&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">										&lt;button class=&quot;send-btn&quot; id=&quot;sendButton&quot;&gt;Send&lt;/button&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">										&lt;div class=&quot;position&quot; id=&quot;position&quot;&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">									  &lt;span&gt;è§’è‰²&lt;/span&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">									&lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">										&lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">							&lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">							&lt;script nonce=&quot;\${</span><span style="color:#E1E4E8;">nonce</span><span style="color:#9ECBFF;">}&quot; src=&quot;\${</span><span style="color:#E1E4E8;">promptScriptUri</span><span style="color:#9ECBFF;">}&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">							&lt;script nonce=&quot;\${</span><span style="color:#E1E4E8;">nonce</span><span style="color:#9ECBFF;">}&quot; src=&quot;\${</span><span style="color:#E1E4E8;">scriptUri</span><span style="color:#9ECBFF;">}&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">					&lt;/body&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">					&lt;/html&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">			\`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;viewsContainers&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// ä¾§è¾¹æ å›¾æ ‡é…ç½®</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;activitybar&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;useful_code_sidebar&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;icon&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;./assets/icon.svg&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      ],</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// ä¾§è¾¹æ è§†å›¾</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;views&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;useful_code_sidebar&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;useful_code_sidebar-view&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;è¯¢é—®çª—å£&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;webview&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;initialSize&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      ]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">provider</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ChatViewProvider</span><span style="color:#24292E;">(context.extensionUri);</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// æ³¨å†Œ Webview è§†å›¾æä¾›ç¨‹åºï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯å±•ç¤ºè§†å›¾åŒºåŸŸIdï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è§†å›¾ä¸»ç±»å®ç°</span></span>
<span class="line"><span style="color:#24292E;">	context.subscriptions.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">vscode.window.</span><span style="color:#6F42C1;">registerWebviewViewProvider</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;useful_code_sidebar-view&#39;</span><span style="color:#24292E;">, provider)</span></span>
<span class="line"><span style="color:#24292E;">	);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6A737D;">// åˆ›å»ºwebViewä¸»ç±»</span></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ChatViewProvider</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">implements</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vscode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">WebviewViewProvider</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#E36209;">_view</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vscode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">WebviewView</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">readonly</span><span style="color:#24292E;"> </span><span style="color:#E36209;">_extensionUri</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vscode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Uri</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	) { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">resolveWebviewView</span><span style="color:#24292E;">(</span><span style="color:#E36209;">webviewView</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vscode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">WebviewView</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._view </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> webviewView;</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(webviewView.webview </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._view?.webview);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// è®¾ç½® Webview çš„ HTML å†…å®¹</span></span>
<span class="line"><span style="color:#24292E;">		webviewView.webview.html </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getWebviewContent</span><span style="color:#24292E;">(webviewView.webview);</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">		webviewView.webview.options </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			enableScripts: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">			localResourceRoots: [</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._extensionUri</span></span>
<span class="line"><span style="color:#24292E;">      ], </span><span style="color:#6A737D;">// å…è®¸è®¿é—®å…¶ä»–æœ¬åœ°èµ„æºï¼Œå¹¶å®šä¹‰åŠ è½½æœ¬åœ°å†…å®¹çš„æ ¹ URI</span></span>
<span class="line"><span style="color:#24292E;">		};</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// å¤„ç† Webview çš„æ¶ˆæ¯å’Œäº‹ä»¶</span></span>
<span class="line"><span style="color:#24292E;">		webviewView.webview.</span><span style="color:#6F42C1;">onDidReceiveMessage</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#E36209;">message</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6A737D;">// å¤„ç†æ¥è‡ª Webview çš„æ¶ˆæ¯</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (message.type </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;message&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> message.type </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;askQuestion&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">callOpenAI</span><span style="color:#24292E;">(message.value);</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// å¤„ç†æ”¶åˆ°çš„æ¶ˆæ¯</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(res) {</span></span>
<span class="line"><span style="color:#24292E;">					</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">responseMessage</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`\${</span><span style="color:#24292E;">res</span><span style="color:#032F62;">.</span><span style="color:#24292E;">content</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">					</span><span style="color:#6A737D;">// å‘é€å“åº”æ¶ˆæ¯ç»™ Webview</span></span>
<span class="line"><span style="color:#24292E;">					webviewView?.webview.</span><span style="color:#6F42C1;">postMessage</span><span style="color:#24292E;">({ type: </span><span style="color:#032F62;">&#39;response&#39;</span><span style="color:#24292E;">, value: responseMessage });</span></span>
<span class="line"><span style="color:#24292E;">				}</span></span>
<span class="line"><span style="color:#24292E;">			}</span></span>
<span class="line"><span style="color:#24292E;">		});</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// å¤„ç† Webview çš„æ¶ˆæ¯å’Œäº‹ä»¶</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">postMessage</span><span style="color:#24292E;">(</span><span style="color:#E36209;">message</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._view) {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._view.webview?.</span><span style="color:#6F42C1;">postMessage</span><span style="color:#24292E;">({ type: </span><span style="color:#032F62;">&#39;askQuestion&#39;</span><span style="color:#24292E;">, value: message });</span></span>
<span class="line"><span style="color:#24292E;">		}</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// webViewå†…å®¹</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getWebviewContent</span><span style="color:#24292E;">(</span><span style="color:#E36209;">webview</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">vscode</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">Webview</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">scriptUri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> webview.</span><span style="color:#6F42C1;">asWebviewUri</span><span style="color:#24292E;">(vscode.Uri.</span><span style="color:#6F42C1;">joinPath</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._extensionUri, </span><span style="color:#032F62;">&#39;media&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;main.js&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">promptScriptUri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> webview.</span><span style="color:#6F42C1;">asWebviewUri</span><span style="color:#24292E;">(vscode.Uri.</span><span style="color:#6F42C1;">joinPath</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._extensionUri, </span><span style="color:#032F62;">&#39;media&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;prompt.json&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// Do the same for the stylesheet.</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">styleResetUri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> webview.</span><span style="color:#6F42C1;">asWebviewUri</span><span style="color:#24292E;">(vscode.Uri.</span><span style="color:#6F42C1;">joinPath</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._extensionUri, </span><span style="color:#032F62;">&#39;media&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;reset.css&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">styleVSCodeUri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> webview.</span><span style="color:#6F42C1;">asWebviewUri</span><span style="color:#24292E;">(vscode.Uri.</span><span style="color:#6F42C1;">joinPath</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._extensionUri, </span><span style="color:#032F62;">&#39;media&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;vscode.css&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">styleMainUri</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> webview.</span><span style="color:#6F42C1;">asWebviewUri</span><span style="color:#24292E;">(vscode.Uri.</span><span style="color:#6F42C1;">joinPath</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">._extensionUri, </span><span style="color:#032F62;">&#39;media&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;main.css&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nonce</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getNonce</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`</span></span>
<span class="line"><span style="color:#032F62;">			&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span style="color:#032F62;">			&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">			&lt;head&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">	&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;none&#39;; style-src \${</span><span style="color:#24292E;">webview</span><span style="color:#032F62;">.</span><span style="color:#24292E;">cspSource</span><span style="color:#032F62;">}; script-src &#39;nonce-\${</span><span style="color:#24292E;">nonce</span><span style="color:#032F62;">}&#39;;&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">	&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">	&lt;link href=&quot;\${</span><span style="color:#24292E;">styleResetUri</span><span style="color:#032F62;">}&quot; rel=&quot;stylesheet&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">	&lt;link href=&quot;\${</span><span style="color:#24292E;">styleVSCodeUri</span><span style="color:#032F62;">}&quot; rel=&quot;stylesheet&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">	&lt;link href=&quot;\${</span><span style="color:#24292E;">styleMainUri</span><span style="color:#032F62;">}&quot; rel=&quot;stylesheet&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;title&gt;UsefulCode&lt;/title&gt;</span></span>
<span class="line"><span style="color:#032F62;">&lt;/head&gt;</span></span>
<span class="line"><span style="color:#032F62;">					&lt;body&gt;</span></span>
<span class="line"><span style="color:#032F62;">							&lt;div class=&quot;chat-container&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">									&lt;div class=&quot;chat-messages&quot; id=&quot;chatMessages&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#032F62;">									&lt;div class=&quot;chat-input&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">										&lt;textarea placeholder=&quot;è¯·è¾“å…¥ä½ çš„é—®é¢˜ï¼Œï¼ˆè¾“å…¥&#39;/&#39;å¯ä»¥è§¦å‘æç¤ºè¯ï¼‰&quot; class=&quot;messageInput&quot; id=&quot;messageInput&quot;&gt;&lt;/textarea&gt;</span></span>
<span class="line"><span style="color:#032F62;">										&lt;button class=&quot;send-btn&quot; id=&quot;sendButton&quot;&gt;Send&lt;/button&gt;</span></span>
<span class="line"><span style="color:#032F62;">										&lt;div class=&quot;position&quot; id=&quot;position&quot;&gt;</span></span>
<span class="line"><span style="color:#032F62;">									  &lt;span&gt;è§’è‰²&lt;/span&gt;</span></span>
<span class="line"><span style="color:#032F62;">									&lt;/div&gt;</span></span>
<span class="line"><span style="color:#032F62;">										&lt;/div&gt;</span></span>
<span class="line"><span style="color:#032F62;">							&lt;/div&gt;</span></span>
<span class="line"><span style="color:#032F62;">							&lt;script nonce=&quot;\${</span><span style="color:#24292E;">nonce</span><span style="color:#032F62;">}&quot; src=&quot;\${</span><span style="color:#24292E;">promptScriptUri</span><span style="color:#032F62;">}&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#032F62;">							&lt;script nonce=&quot;\${</span><span style="color:#24292E;">nonce</span><span style="color:#032F62;">}&quot; src=&quot;\${</span><span style="color:#24292E;">scriptUri</span><span style="color:#032F62;">}&quot;&gt;&lt;/script&gt;</span></span>
<span class="line"><span style="color:#032F62;">					&lt;/body&gt;</span></span>
<span class="line"><span style="color:#032F62;">					&lt;/html&gt;</span></span>
<span class="line"><span style="color:#032F62;">			\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br></div></div><p>webViewåŸºæœ¬jsé€»è¾‘å°±æ˜¯æŒ‰é’®å‘é€æ¶ˆæ¯è¿˜æœ‰æ¥å—å›ç­”æ¶ˆæ¯å±•ç¤ºï¼Œå¦å†™åœ¨<code>main.js</code>æ–‡ä»¶ä¸­ã€‚</p></li><li><p>åœ¨Vscodeä¸­æ·»åŠ å³é”®èœå•æé—®,é€‰ä¸­æ—¶æ‰æ˜¾ç¤ºå¿«æ·èœå•ï¼Œè¿˜æœ‰ç»‘å®šå¿«æ·é”®ã€‚</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;commands&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.FindProblemsOfCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;æŸ¥çœ‹ä»£ç æ˜¯å¦å­˜åœ¨é—®é¢˜&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;ä¼˜åŒ–ä»£ç &quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.ExplainCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;è§£é‡Šä»£ç &quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;keybindings&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.FindProblemsOfCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;ctrl+alt+f&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;when&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;editorTextFocus&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;ctrl+alt+o&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;when&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;editorTextFocus&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.ExplainCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;ctrl+alt+e&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;when&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;editorTextFocus&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;menus&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;editor/context&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.FindProblemsOfCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;group&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;askGroup@1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;when&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;editorHasSelection&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;group&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;askGroup@1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;when&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;editorHasSelection&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;command&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;UsefulCode.ExplainCode&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;group&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;askGroup@1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#9ECBFF;">&quot;when&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;editorHasSelection&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">      ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// æ³¨å†Œå³é”®èœå•å‘½ä»¤ -- ä¼˜åŒ–ä»£ç ï¼ˆå…¶ä»–é›·åŒï¼‰</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.subscriptions.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">		vscode.commands.</span><span style="color:#B392F0;">registerCommand</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">editor</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> vscode.window.activeTextEditor;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">selection</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> editor?.selection;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">text</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> editor?.document.</span><span style="color:#B392F0;">getText</span><span style="color:#E1E4E8;">(selection) </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">			provider.</span><span style="color:#B392F0;">postMessage</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;è¯·ä½ å¸®æˆ‘ä¼˜åŒ–ä¸€ä¸‹è¿™æ®µä»£ç </span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> text);</span></span>
<span class="line"><span style="color:#E1E4E8;">		}));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">......</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;commands&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.FindProblemsOfCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;æŸ¥çœ‹ä»£ç æ˜¯å¦å­˜åœ¨é—®é¢˜&quot;</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;ä¼˜åŒ–ä»£ç &quot;</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.ExplainCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;è§£é‡Šä»£ç &quot;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;keybindings&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.FindProblemsOfCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;ctrl+alt+f&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;when&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;editorTextFocus&quot;</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;ctrl+alt+o&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;when&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;editorTextFocus&quot;</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.ExplainCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;ctrl+alt+e&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;when&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;editorTextFocus&quot;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    ],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;menus&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;editor/context&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.FindProblemsOfCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;group&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;askGroup@1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;when&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;editorHasSelection&quot;</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;group&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;askGroup@1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;when&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;editorHasSelection&quot;</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;command&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;UsefulCode.ExplainCode&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;group&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;askGroup@1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#032F62;">&quot;when&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;editorHasSelection&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      ]</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// æ³¨å†Œå³é”®èœå•å‘½ä»¤ -- ä¼˜åŒ–ä»£ç ï¼ˆå…¶ä»–é›·åŒï¼‰</span></span>
<span class="line"><span style="color:#24292E;">	context.subscriptions.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">		vscode.commands.</span><span style="color:#6F42C1;">registerCommand</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;UsefulCode.OptimizeCode&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">editor</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> vscode.window.activeTextEditor;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">selection</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> editor?.selection;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">text</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> editor?.document.</span><span style="color:#6F42C1;">getText</span><span style="color:#24292E;">(selection) </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">			provider.</span><span style="color:#6F42C1;">postMessage</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;è¯·ä½ å¸®æˆ‘ä¼˜åŒ–ä¸€ä¸‹è¿™æ®µä»£ç </span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> text);</span></span>
<span class="line"><span style="color:#24292E;">		}));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">......</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div></li><li><p>åœ¨å¤„ç†å®Œæˆåï¼Œå°†ç»“æœæ˜¾ç¤ºåœ¨Vscodeä¸­ã€‚</p></li></ul><h3 id="å‘å¸ƒå’Œç»´æŠ¤" tabindex="-1">å‘å¸ƒå’Œç»´æŠ¤ <a class="header-anchor" href="#å‘å¸ƒå’Œç»´æŠ¤" aria-label="Permalink to &quot;å‘å¸ƒå’Œç»´æŠ¤&quot;">â€‹</a></h3><p>åœ¨æµ‹è¯•å’Œè°ƒè¯•å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°†æ’ä»¶å‘å¸ƒåˆ°<a href="https://marketplace.visualstudio.com/" target="_blank" rel="noreferrer">Vscodeæ’ä»¶å¸‚åœº</a>ä¸­ã€‚</p><h5 id="å®Œå–„æ’ä»¶åŸºæœ¬ä¿¡æ¯" tabindex="-1"><strong>å®Œå–„æ’ä»¶åŸºæœ¬ä¿¡æ¯</strong> <a class="header-anchor" href="#å®Œå–„æ’ä»¶åŸºæœ¬ä¿¡æ¯" aria-label="Permalink to &quot;**å®Œå–„æ’ä»¶åŸºæœ¬ä¿¡æ¯**&quot;">â€‹</a></h5><ul><li><p>å®Œå–„package.jsoné…ç½®</p><ul><li>æ·»åŠ å›¾æ ‡</li><li>æ·»åŠ license</li><li>æ·»åŠ ä½œè€…</li><li>æ·»åŠ ä»“åº“</li><li>æ·»åŠ å…³é”®è¯</li></ul></li><li><p>ä¿®æ”¹<code>README</code></p></li></ul><h3 id="vsceæ‰“åŒ…" tabindex="-1">vsceæ‰“åŒ… <a class="header-anchor" href="#vsceæ‰“åŒ…" aria-label="Permalink to &quot;vsceæ‰“åŒ…&quot;">â€‹</a></h3><ul><li>å®‰è£…å®˜æ–¹å·¥å…· vsce ï¼ˆVisual Studio Code Extensionsï¼‰</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">vsce</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">vsce</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>æ‰“åŒ…</p><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">vsce </span><span style="color:#F97583;">package</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">vsce </span><span style="color:#D73A49;">package</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>é€šè¿‡ <a href="https://marketplace.visualstudio.com/manage/createpublisher" target="_blank" rel="noreferrer">create-publisher</a> åˆ›å»ºå‘å¸ƒè€… ï¼Œç™»å½•å³å¯ä¸Šä¼ æ‰“åŒ…æ–‡ä»¶</p></li></ul><h2 id="åŸºæœ¬æ¨¡æ ·" tabindex="-1">åŸºæœ¬æ¨¡æ · <a class="header-anchor" href="#åŸºæœ¬æ¨¡æ ·" aria-label="Permalink to &quot;åŸºæœ¬æ¨¡æ ·&quot;">â€‹</a></h2><img src="https://yhyblog-2023-2-8.oss-cn-hangzhou.aliyuncs.com/md/2023/05/image-20230530014625627.png" alt="image-20230530014625627" style="zoom:50%;"><img src="https://yhyblog-2023-2-8.oss-cn-hangzhou.aliyuncs.com/md/2023/05/image-20230530014538287.png" alt="image-20230530014538287" style="zoom:50%;"><img src="https://yhyblog-2023-2-8.oss-cn-hangzhou.aliyuncs.com/md/2023/05/image-20230530015237731.png" alt="image-20230530015237731" style="zoom:67%;"><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>ok,ä¸€ä¸ªç®€å•çš„æ’ä»¶å°±åˆæ­¥å®Œæˆäº†ğŸ˜ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¼€å‘ä¸€ä¸ªèƒ½å¤Ÿä½¿ç”¨ChatGPTçš„Vscodeæ’ä»¶çš„å®Œæ•´æµç¨‹å’Œä»£ç è®²è§£ã€‚é€šè¿‡è¿™ä¸ªæ’ä»¶çš„å¼€å‘ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨ChatGPTè¿›è¡Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</p><ul><li></li></ul>`,28),e=[o];function t(c,r,E,y,i,u){return n(),a("div",null,e)}const q=s(p,[["render",t]]);export{b as __pageData,q as default};
