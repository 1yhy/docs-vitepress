import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.c3fd347f.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"linux/安装mysql.md","filePath":"linux/安装mysql.md","lastUpdated":1707147609000}'),p={name:"linux/安装mysql.md"},e=l(`<h2 id="centos7-安装-mysql-5-7" tabindex="-1">centos7 安装 Mysql 5.7 <a class="header-anchor" href="#centos7-安装-mysql-5-7" aria-label="Permalink to &quot;centos7 安装 Mysql 5.7&quot;">​</a></h2><h4 id="一、下载地址-https-dev-mysql-com-downloads-mysql-5-7-html" tabindex="-1">一、下载地址：<a href="https://dev.mysql.com/downloads/mysql/5.7.html" target="_blank" rel="noreferrer">https://dev.mysql.com/downloads/mysql/5.7.html</a> <a class="header-anchor" href="#一、下载地址-https-dev-mysql-com-downloads-mysql-5-7-html" aria-label="Permalink to &quot;一、下载地址：https://dev.mysql.com/downloads/mysql/5.7.html&quot;">​</a></h4><h4 id="二、mysql5-7安装包上传到linux服务器" tabindex="-1">二、mysql5.7安装包上传到linux服务器 <a class="header-anchor" href="#二、mysql5-7安装包上传到linux服务器" aria-label="Permalink to &quot;二、mysql5.7安装包上传到linux服务器&quot;">​</a></h4><ul><li><p>linux服务器根目录下新建文件夹： 1）soft文件夹，存放软件安装包</p></li><li><p>将下载好的mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz上传至soft文件夹下：</p></li></ul><h4 id="三、检查系统是否安装过mysql" tabindex="-1">三、检查系统是否安装过mysql <a class="header-anchor" href="#三、检查系统是否安装过mysql" aria-label="Permalink to &quot;三、检查系统是否安装过mysql&quot;">​</a></h4><p>检查系统是否安装过mysql,如果没有略过此步骤：如下图：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#检查系统中有无安装过mysql</span></span>
<span class="line"><span style="color:#B392F0;">rpm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-qa</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#检查系统中有无安装过mysql</span></span>
<span class="line"><span style="color:#6F42C1;">rpm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-qa</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 如果系统自带mysql，查询所有mysql 对应的文件夹，全部删除</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">whereis</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">find</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 如果系统自带mysql，查询所有mysql 对应的文件夹，全部删除</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">whereis</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">find</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="四、卸载centos7系统自带mariadb" tabindex="-1">四、卸载CentOS7系统自带mariadb <a class="header-anchor" href="#四、卸载centos7系统自带mariadb" aria-label="Permalink to &quot;四、卸载CentOS7系统自带mariadb&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#查看系统自带的Mariadb</span></span>
<span class="line"><span style="color:#B392F0;">rpm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-qa</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mariadb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#卸载系统自带的Mariadb</span></span>
<span class="line"><span style="color:#B392F0;">rpm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--nodeps</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mariadb-libs-5.5.60-1.el7-5.x86_64</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#删除etc目录下的my.cnf ，一定要删掉，等下再重新建，之前我将就用这个文件，后面改配置各种不生效，因为lz此目录下没有my.cnf文件，没有执行可命令</span></span>
<span class="line"><span style="color:#B392F0;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/my.cnf</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#查看系统自带的Mariadb</span></span>
<span class="line"><span style="color:#6F42C1;">rpm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-qa</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mariadb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#卸载系统自带的Mariadb</span></span>
<span class="line"><span style="color:#6F42C1;">rpm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--nodeps</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mariadb-libs-5.5.60-1.el7-5.x86_64</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#删除etc目录下的my.cnf ，一定要删掉，等下再重新建，之前我将就用这个文件，后面改配置各种不生效，因为lz此目录下没有my.cnf文件，没有执行可命令</span></span>
<span class="line"><span style="color:#6F42C1;">rm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/my.cnf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>补充</strong></p><ul><li><code>MariaDB</code> 是一个开源的关系数据库管理系统，它是由 <code>MySQL</code> 的原始开发者之一，Monty Widenius，创建的，并且是作为 <code>MySQL</code> 的一个分支（fork）开始的。这个分支的目的是确保该项目保持完全开源，特别是在 Oracle 公司于 2010 年收购了 MySQL 后。</li></ul><p>在 CentOS 和其他一些 Linux 发行版中，<code>MariaDB</code> 被选为默认的 MySQL 实现，这意味着当你在这些系统上安装 &quot;MySQL&quot; 时，你实际上可能会得到 <code>MariaDB</code>。</p><p>以下是关于 <code>MariaDB</code> 的一些关键点：</p><ol><li><p><strong>兼容性</strong>：<code>MariaDB</code> 与 <code>MySQL</code> 高度兼容，因为它们共享相同的源代码基础。这意味着大多数情况下，你可以直接将 <code>MySQL</code> 数据库迁移到 <code>MariaDB</code>，反之亦然。</p></li><li><p><strong>新特性</strong>：尽管 <code>MariaDB</code> 与 <code>MySQL</code> 兼容，但它还引入了一些新特性和改进，如更好的性能、新的存储引擎等。</p></li><li><p><strong>开源</strong>：<code>MariaDB</code> 是完全开源的，并且采用 GPL v2 许可。</p></li><li><p><strong>社区驱动</strong>：<code>MariaDB</code> 由一个活跃的开发者和用户社区支持，这确保了其持续的开发和改进。</p></li></ol><p>在 CentOS 7 中，当你使用 <code>yum</code> 安装 <code>mysql-server</code> 时，你实际上会得到 <code>MariaDB</code>。如果你已经熟悉 <code>MySQL</code>，那么使用 <code>MariaDB</code> 应该会非常直观，因为两者在使用和管理上非常相似。</p><h4 id="五、检查有无安装过mysql-用户组-没有的话创建" tabindex="-1">五、检查有无安装过mysql 用户组，没有的话创建 <a class="header-anchor" href="#五、检查有无安装过mysql-用户组-没有的话创建" aria-label="Permalink to &quot;五、检查有无安装过mysql 用户组，没有的话创建&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#检查mysql 用户组是否存在</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/group</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span>
<span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/passwd</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#创建mysql 用户组和用户</span></span>
<span class="line"><span style="color:#B392F0;">groupadd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span>
<span class="line"><span style="color:#B392F0;">useradd</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#检查mysql 用户组是否存在</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/group</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span>
<span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/passwd</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#创建mysql 用户组和用户</span></span>
<span class="line"><span style="color:#6F42C1;">groupadd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span>
<span class="line"><span style="color:#6F42C1;">useradd</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-r</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="六、安装mysql5-7步骤" tabindex="-1">六、安装mysql5.7步骤 <a class="header-anchor" href="#六、安装mysql5-7步骤" aria-label="Permalink to &quot;六、安装mysql5.7步骤&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#解压安装mysql安装包到/soft/目录下</span></span>
<span class="line"><span style="color:#B392F0;">tar</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-zxvf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-C</span><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">/soft</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#修改mysql-5.7.36-linux-glibc2.12-x86_64名称为mysql5.7</span></span>
<span class="line"><span style="color:#B392F0;">mv</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql-5.7.36-linux-glibc2.12-x86_64/</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql5.7</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#更改mysql5.7 目录下所有文件夹所属的用户组、用户以及权限</span></span>
<span class="line"><span style="color:#B392F0;">chown</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-R</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql:mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/soft/mysql5.7</span></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-R</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">755</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/soft/mysql5.7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#进入/soft/mysql5.7/bin/目录，编译安装并初始化mysql,务必记住数据库管理员临时密码,如下图画红色框的部分。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">./mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--initialize</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--user=mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--datadir=/soft/mysql5.7/data</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--basedir=/soft/mysql5.7</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#编写etc目录下的my.cnf 配置文件，并添加配置</span></span>
<span class="line"><span style="color:#6A737D;">#进入配置文件</span></span>
<span class="line"><span style="color:#B392F0;">vi</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/my.cnf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#在插入模式下编写，完成后保存，当然这个可以自己添加</span></span>
<span class="line"><span style="color:#E1E4E8;">[mysqld]</span></span>
<span class="line"><span style="color:#E1E4E8;">datadir</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">/soft/mysql5.7/data</span></span>
<span class="line"><span style="color:#B392F0;">port</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3306</span></span>
<span class="line"><span style="color:#E1E4E8;">sql_mode</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span></span>
<span class="line"><span style="color:#E1E4E8;">symbolic-links</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">max_connections</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">400</span></span>
<span class="line"><span style="color:#E1E4E8;">innodb_file_per_table</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#6A737D;">#表名大小写不明感，敏感为</span></span>
<span class="line"><span style="color:#E1E4E8;">lower_case_table_names</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">##授予my.cnf 配置文件775权限，如下：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-R</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">775</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/my.cnf</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#修改/soft/mysql5.7/support-files/目录下的mysql.server文件中5个位置的/usr/local/mysql全部修改成/soft/mysql5.7。</span></span>
<span class="line"><span style="color:#6A737D;">#因为没有安装下/usr/local/mysq目录下，所以需要修改成安装的/soft/mysql5.7目录。</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#解压安装mysql安装包到/soft/目录下</span></span>
<span class="line"><span style="color:#6F42C1;">tar</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-zxvf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-C</span><span style="color:#24292E;">  </span><span style="color:#032F62;">/soft</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#修改mysql-5.7.36-linux-glibc2.12-x86_64名称为mysql5.7</span></span>
<span class="line"><span style="color:#6F42C1;">mv</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql-5.7.36-linux-glibc2.12-x86_64/</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql5.7</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#更改mysql5.7 目录下所有文件夹所属的用户组、用户以及权限</span></span>
<span class="line"><span style="color:#6F42C1;">chown</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-R</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql:mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/soft/mysql5.7</span></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-R</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">755</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/soft/mysql5.7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#进入/soft/mysql5.7/bin/目录，编译安装并初始化mysql,务必记住数据库管理员临时密码,如下图画红色框的部分。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">./mysqld</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--initialize</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--user=mysql</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--datadir=/soft/mysql5.7/data</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--basedir=/soft/mysql5.7</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#编写etc目录下的my.cnf 配置文件，并添加配置</span></span>
<span class="line"><span style="color:#6A737D;">#进入配置文件</span></span>
<span class="line"><span style="color:#6F42C1;">vi</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/my.cnf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#在插入模式下编写，完成后保存，当然这个可以自己添加</span></span>
<span class="line"><span style="color:#24292E;">[mysqld]</span></span>
<span class="line"><span style="color:#24292E;">datadir</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">/soft/mysql5.7/data</span></span>
<span class="line"><span style="color:#6F42C1;">port</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3306</span></span>
<span class="line"><span style="color:#24292E;">sql_mode</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span></span>
<span class="line"><span style="color:#24292E;">symbolic-links</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">max_connections</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">400</span></span>
<span class="line"><span style="color:#24292E;">innodb_file_per_table</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#6A737D;">#表名大小写不明感，敏感为</span></span>
<span class="line"><span style="color:#24292E;">lower_case_table_names</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">##授予my.cnf 配置文件775权限，如下：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-R</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">775</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/my.cnf</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#修改/soft/mysql5.7/support-files/目录下的mysql.server文件中5个位置的/usr/local/mysql全部修改成/soft/mysql5.7。</span></span>
<span class="line"><span style="color:#6A737D;">#因为没有安装下/usr/local/mysq目录下，所以需要修改成安装的/soft/mysql5.7目录。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h5 id="启动mysql-服务器" tabindex="-1">启动mysql 服务器 <a class="header-anchor" href="#启动mysql-服务器" aria-label="Permalink to &quot;启动mysql 服务器&quot;">​</a></h5><p>1）、查询服务</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">ps</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ef</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span></span>
<span class="line"><span style="color:#B392F0;">ps</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-ef</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">ps</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ef</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span></span>
<span class="line"><span style="color:#6F42C1;">ps</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-ef</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2）、启动服务</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">/soft/mysql5.7/support-files/mysql.server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">/soft/mysql5.7/support-files/mysql.server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h5 id="添加软连接-并重启mysql-服务" tabindex="-1">添加软连接，并重启mysql 服务 <a class="header-anchor" href="#添加软连接-并重启mysql-服务" aria-label="Permalink to &quot;添加软连接，并重启mysql 服务&quot;">​</a></h5><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">#添加软连接</span></span>
<span class="line"><span style="color:#B392F0;">ln</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/soft/mysql5.7/support-files/mysql.server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/init.d/mysql</span></span>
<span class="line"><span style="color:#B392F0;">ln</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-s</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/soft/mysql5.7/bin/mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/usr/bin/mysql</span></span>
<span class="line"><span style="color:#6A737D;">#重启mysql服务</span></span>
<span class="line"><span style="color:#B392F0;">service</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#登录mysql ，密码就是初始化时生成的临时密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">mysql</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-u</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">root</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#修改密码为root</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">password</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">for</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">root@localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">password</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">&#39;root&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#开放远程连接</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysql</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#B392F0;">update</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user.Host=&#39;%&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">where</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">user.User=&#39;root&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#B392F0;">flush</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">privileges</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#设置开机自启</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#将服务文件拷贝到init.d下，并重命名为mysql</span></span>
<span class="line"><span style="color:#B392F0;">cp</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/soft/mysql5.7/support-files/mysql.server</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/init.d/mysqld</span></span>
<span class="line"><span style="color:#6A737D;">#赋予可执行权限</span></span>
<span class="line"><span style="color:#B392F0;">chmod</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">+x</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/init.d/mysqld</span></span>
<span class="line"><span style="color:#6A737D;">#添加服务</span></span>
<span class="line"><span style="color:#B392F0;">chkconfig</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span></span>
<span class="line"><span style="color:#6A737D;">#显示服务列表</span></span>
<span class="line"><span style="color:#B392F0;">chkconfig</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">开放3306端口，测试本地客户端是否连接成功</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#开放3306端口命令</span></span>
<span class="line"><span style="color:#B392F0;">firewall-cmd</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--zone=public</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--add-port=3306/tcp</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--permanent</span></span>
<span class="line"><span style="color:#6A737D;">#配置立即生效</span></span>
<span class="line"><span style="color:#B392F0;">firewall-cmd</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--reload</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#添加软连接</span></span>
<span class="line"><span style="color:#6F42C1;">ln</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-s</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/soft/mysql5.7/support-files/mysql.server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/init.d/mysql</span></span>
<span class="line"><span style="color:#6F42C1;">ln</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-s</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/soft/mysql5.7/bin/mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/usr/bin/mysql</span></span>
<span class="line"><span style="color:#6A737D;">#重启mysql服务</span></span>
<span class="line"><span style="color:#6F42C1;">service</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#登录mysql ，密码就是初始化时生成的临时密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">mysql</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-u</span><span style="color:#24292E;"> </span><span style="color:#032F62;">root</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#修改密码为root</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">password</span><span style="color:#24292E;"> </span><span style="color:#032F62;">for</span><span style="color:#24292E;"> </span><span style="color:#032F62;">root@localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">password</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">&#39;root&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#开放远程连接</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysql</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6F42C1;">update</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user.Host=&#39;%&#39;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">where</span><span style="color:#24292E;"> </span><span style="color:#032F62;">user.User=&#39;root&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6F42C1;">flush</span><span style="color:#24292E;"> </span><span style="color:#032F62;">privileges</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#设置开机自启</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#将服务文件拷贝到init.d下，并重命名为mysql</span></span>
<span class="line"><span style="color:#6F42C1;">cp</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/soft/mysql5.7/support-files/mysql.server</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/init.d/mysqld</span></span>
<span class="line"><span style="color:#6A737D;">#赋予可执行权限</span></span>
<span class="line"><span style="color:#6F42C1;">chmod</span><span style="color:#24292E;"> </span><span style="color:#032F62;">+x</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/init.d/mysqld</span></span>
<span class="line"><span style="color:#6A737D;">#添加服务</span></span>
<span class="line"><span style="color:#6F42C1;">chkconfig</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span></span>
<span class="line"><span style="color:#6A737D;">#显示服务列表</span></span>
<span class="line"><span style="color:#6F42C1;">chkconfig</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">开放3306端口，测试本地客户端是否连接成功</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#开放3306端口命令</span></span>
<span class="line"><span style="color:#6F42C1;">firewall-cmd</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--zone=public</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--add-port=3306/tcp</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--permanent</span></span>
<span class="line"><span style="color:#6A737D;">#配置立即生效</span></span>
<span class="line"><span style="color:#6F42C1;">firewall-cmd</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h5 id="数据库的操作" tabindex="-1">数据库的操作 <a class="header-anchor" href="#数据库的操作" aria-label="Permalink to &quot;数据库的操作&quot;">​</a></h5><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">（1）查看mysql是否启动：service</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">启动mysql：service</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">停止mysql：service</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">重启mysql：service</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mysqld</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">（2）查看临时密码：grep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">password</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/var/log/mysqld.log</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">（1）查看mysql是否启动：service</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#032F62;">status</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">启动mysql：service</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">停止mysql：service</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stop</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">重启mysql：service</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mysqld</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">（2）查看临时密码：grep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">password</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/var/log/mysqld.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>至此，centos7安装mysql5.7完成，本客户端连接centos7中的mysql5.7服务端成功。</p>`,30),o=[e];function c(r,t,y,i,E,m){return n(),a("div",null,o)}const d=s(p,[["render",c]]);export{b as __pageData,d as default};
